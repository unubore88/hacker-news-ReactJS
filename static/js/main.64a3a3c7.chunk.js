(this["webpackJsonphacker-news-redux-thunk"]=this["webpackJsonphacker-news-redux-thunk"]||[]).push([[0],{23:function(e,t,n){e.exports=n(52)},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),o=n.n(r),l=n(3),u=n(5),i=n.n(u),s=function(){var e="https://hn.algolia.com/api/v1/search?query=&page=".concat(1);return function(t){i.a.get(e).then((function(e){t({type:"FETCH_NEWS",payload:e})}))}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="https://hn.algolia.com/api/v1/search?query=".concat(e,"&page=").concat(t);return console.log(n),function(e){i.a.get(n).then((function(t){e({type:"SEARCH_NEWS",payload:t})}))}},b=function(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.news}));return Object(a.useEffect)((function(){e(s())}),[]),c.a.createElement("div",null,console.log(t.newsList),c.a.createElement("ul",null,t.newsList.hits&&t.newsList.hits.map((function(e){return c.a.createElement("li",{className:"news news-box",key:e.objectID},c.a.createElement("a",{className:"news-title",href:e.url,target:"_blank"},e.title?e.title:"".concat(e.author," - ").concat(e.story_text?e.story_text:""),e.url?" - \ud83d\udd17 ":"",c.a.createElement("br",null)),c.a.createElement("div",{className:"news-info-title"},e.author," -"," ","".concat(e.created_at.slice(0,10)," - ").concat(e.created_at.slice(12,19)," - ").concat(e.url?"".concat(e.url.substring(0,40),"..."):"url unavaible")))}))))},h=n(10),m=function(){var e=Object(a.useState)(""),t=Object(h.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(0),u=Object(h.a)(o,2),b=u[0],m=u[1],E=Object(l.b)(),d=Object(l.c)((function(e){return e.news})).newsList.nbPage;return c.a.createElement("div",{className:"search-bar"},console.log(b),c.a.createElement("h1",null,"Hacker news"),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E(p(n))}},c.a.createElement("input",{onChange:function(e){r(e.target.value),m(0)},type:"text",value:n}),c.a.createElement("button",{type:"submit"},"Rechercher"),c.a.createElement("select",{onChange:function(e){"pertinence"===e.target.value?(console.log(e.target.value),m(0),E(s())):"date"===e.target.value&&(console.log(e.target.value),m(0),E(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){i.a.get("https://hn.algolia.com/api/v1/search_by_date?query=".concat(e,"&page=").concat(t)).then((function(e){n({type:"SEARCH_NEWS_BY_DATE",payload:e})}))}}(n,b)))}},c.a.createElement("option",{value:"pertinence"},"sort by pertinence"),c.a.createElement("option",{value:"date"},"sort by date"))),c.a.createElement("div",null,c.a.createElement("button",{disabled:b<=0,onClick:function(){return m(b-1),void E(p(n,b))}},"previous page"),c.a.createElement("button",{disabled:b>=d,onClick:function(){return setTimeout((function(){m(b+1)}),200),E(p(n,b)),void console.log(b)}},"next page"),c.a.createElement("p",{className:"search-bar-page-info"},"page ",b+1," / ",d)))},E=function(){return c.a.createElement("div",{id:"block-page"},c.a.createElement(m,null),c.a.createElement(b,null))},d=n(2),g=n(21),f=n(22),v=n(6),y={newsList:[]},w=function(e){return{hits:e.data.hits,nbPage:e.data.nbPages}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEWS":case"SEARCH_NEWS":case"SEARCH_NEWS_BY_DATE":return Object(v.a)({},e,{newsList:w(t.payload)});default:return e}},j=Object(d.combineReducers)({news:_}),O=Object(d.createStore)(j,Object(f.composeWithDevTools)(Object(d.applyMiddleware)(g.a)));n(51);o.a.render(c.a.createElement(l.a,{store:O},c.a.createElement(E,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.64a3a3c7.chunk.js.map